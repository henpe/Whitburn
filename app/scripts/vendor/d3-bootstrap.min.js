(function(){function r(e){return function(){var t=d3.event.relatedTarget;return this===t||i(this,t)?undefined:e.apply(this,arguments)}}function i(e,t){if(e===t)return!1;while(t&&t!==e)t=t.parentNode;return t===e}var e=d3.selection.prototype,t=e.on,n={mouseenter:["mouseover",r],mouseleave:["mouseout",r]};e.on=function(e,r,i){var s=e.split("."),o=s.shift(),u=n[o];return u?(e=s.length?[u[0],s].join("."):u[0],typeof r=="function"&&(r=u[1](r)),t.call(this,e,r,i)):t.apply(this,arguments)}})(),function(e){function n(e){return{x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight}}var t=typeof e.bootstrap=="object"?e.bootstrap:e.bootstrap={};t.tooltip=function(){function f(){var e=d3.select(this),n=t.apply(this,arguments),r=e.append("div").attr("class","tooltip");n&&r.classed("fade",!0),r.append("div").attr("class","tooltip-arrow"),r.append("div").attr("class","tooltip-inner");var i=a.apply(this,arguments);r.classed(i,!0),e.on(s,l),e.on(o,c)}function l(){var e=d3.select(this),t=i.apply(this,arguments),s=e.select(".tooltip").classed("in",!0),o=r.apply(this,arguments),u=s.select(".tooltip-inner")[o?"html":"text"](t),f=a.apply(this,arguments),l=n(e.node()),u=n(s.node()),c;switch(f){case"top":c={x:l.x+(l.w-u.w)/2,y:l.y-u.h};break;case"right":c={x:l.x+l.w,y:l.y+(l.h-u.h)/2};break;case"left":c={x:l.x-u.w,y:l.y+(l.h-u.h)/2};break;case"bottom":c={x:l.x+(l.w-u.w)/2,y:l.y+l.h}}s.style(c?{left:~~c.x+"px",top:~~c.y+"px"}:{left:null,top:null}),this.tooltipVisible=!0}function c(){d3.select(this).select(".tooltip").classed("in",!1),this.tooltipVisible=!1}function h(){this.tooltipVisible?c.apply(this,arguments):l.apply(this,arguments)}var e=function(e){e.each(f)},t=d3.functor(!1),r=d3.functor(!1),i=function(){var e=this.getAttribute("data-original-title");return e?e:(e=this.getAttribute("title"),this.removeAttribute("title"),this.setAttribute("data-original-title",e),e)},s="mouseenter.tooltip",o="mouseleave.tooltip",u="top left bottom right".split(" "),a=d3.functor("top");return e.title=function(t){return arguments.length?(i=d3.functor(t),e):i},e.html=function(t){return arguments.length?(r=d3.functor(t),e):r},e.placement=function(t){return arguments.length?(a=d3.functor(t),e):a},e.show=function(e){e.each(l)},e.hide=function(e){e.each(c)},e.toggle=function(e){e.each(h)},e.destroy=function(e){e.on(s,null).on(o,null).attr("title",function(){return this.getAttribute("data-original-title")||this.getAttribute("title")}).attr("data-origina-title",null).select(".tooltip").remove()},e}}(this),function(e){function n(e){return{x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight}}var t=typeof e.bootstrap=="object"?e.bootstrap:e.bootstrap={};t.popover=function(){function l(){var e=d3.select(this),n=t.apply(this,arguments),r=e.append("div").attr("class","popover").html(o);n&&r.classed("fade",!0);var i=f.apply(this,arguments);r.classed(i,!0),e.on(u,p)}function c(){var e=d3.select(this),t=r.apply(this,arguments),o=s.apply(this,arguments),u=i.apply(this,arguments),a=e.select(".popover").classed("in",!0).style("display","block"),l=a.select(".popover-title").text(u),c=a.select(".popover-content")[t?"html":"text"](o),h=f.apply(this,arguments),p=n(e.node()),c=n(a.node()),d;switch(h){case"top":d={x:p.x+(p.w-c.w)/2,y:p.y-c.h};break;case"right":d={x:p.x+p.w,y:p.y+(p.h-c.h)/2};break;case"left":d={x:p.x-c.w,y:p.y+(p.h-c.h)/2};break;case"bottom":d={x:p.x+(p.w-c.w)/2,y:p.y+p.h}}a.style(d?{left:~~d.x+"px",top:~~d.y+"px"}:{left:null,top:null}),this.popoverVisible=!0}function h(){d3.select(this).select(".popover").classed("in",!1).style("display","none"),this.popoverVisible=!1}function p(){this.popoverVisible?h.apply(this,arguments):c.apply(this,arguments)}var e=function(e){e.each(l)},t=d3.functor(!1),r=d3.functor(!1),i=function(){return this.getAttribute("data-title")},s=function(){return this.getAttribute("data-content")},o='<div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div>',u="click.popover",a="top left bottom right".split(" "),f=d3.functor("top");return e.title=function(t){return arguments.length?(i=d3.functor(t),e):i},e.content=function(t){return arguments.length?(s=d3.functor(t),e):s},e.html=function(t){return arguments.length?(r=d3.functor(t),e):r},e.placement=function(t){return arguments.length?(f=d3.functor(t),e):f},e.show=function(e){e.each(c)},e.hide=function(e){e.each(h)},e.toggle=function(e){e.each(p)},e.destroy=function(e){e.on(over,null).on(out,null).select(".popover").remove()},e}}(this),function(e){var t=typeof e.bootstrap=="object"?e.bootstrap:e.bootstrap={},n='[data-dismiss="alert"]';t.alert=function(){function t(){var e=d3.select(this),t=e.attr("data-target");t||(t=e.attr("href"));var n=e.select(t);d3.event&&d3.event.preventDefault(),n.empty()&&(n=e.classed("alert")?e:d3.select(e.node().parentNode)),n.classed("in",!1),n.classed("fade")?n.on("transitionEnd",function(){n.remove()}):n.remove()}var e=function(e){e.select(n).on("click",t)};return e.close=function(e){e.each(t)},e}}(this);